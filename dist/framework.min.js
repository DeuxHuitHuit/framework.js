(function(e){"use strict";var n=navigator.userAgent;e.unsupported=!e.browser||e.browser.msie&&9>parseInt(e.browser.version,10),e.iphone=!!n&&(n.match(/iPhone/i)||n.match(/iPod/i)),e.ios=e.iphone||!!n&&n.match(/iPad/i),e.mobile=e.ios||!!n&&(n.match(/Android/i)||n.match(/mobile/i)||n.match(/phone/i))})(jQuery),function(e){"use strict";e.mobile&&e("html").addClass("mobile"),e.easing.def=e.mobile?"linear":"easeOutQuad"}(jQuery),function(e){"use strict";window.console||(window.console={},window.console.log=window.console.warn=window.console.error=window.console.info=window.console.dir=window.console.time=window.console.timeEnd=e.noop)}(jQuery),function(e){"use strict";var n=function(e){return("0"+parseInt(e,10).toString(16)).slice(-2)};window.rgb2hex=function(e){var r=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return r?n(r[1])+n(r[2])+n(r[3]):e},window.pd=function(n){return n&&(e.isFunction(n.preventDefault)&&n.preventDefault(),e.isFunction(n.stopPropagation)&&n.stopPropagation()),!1},window.keys={"?":0,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps_lock:20,escape:27,space_bar:32,page_up:33,page_down:34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window_key:91,right_window_key:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,"numpad 4":100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,subtract:109,"decimal point":110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,";":186,"=":187,equal_sign:187,comma:188,",":188,dash:189,".":190,period:190,forward_slash:191,"/":191,grave_accent:192,open_bracket:219,back_slash:220,"\\":220,close_braket:221,single_quote:222},window.keyFromCode=function(n){var r="?";return n?(e.each(window.keys,function(e,t){return n===t?(r=e,!1):!0}),r):r},window.isChar=function(e){return e===window.keys.space_bar||e>window.keys["0"]&&window.keys.z>=e}}(jQuery),function(e){"use strict";var n=[],r=!1,t=null,o=function(e){return!!t&&t===e},i=function(r){var t=-1;return e.each(n,function(e,n){return n.url===r?(t=e,!1):!0}),t},a=function(){n.length?s():r=!1},s=function(){var r=n.shift(),o=e.extend({},r,{success:function(){t=null,a(),App.callback.call(this,r.success,arguments)},error:function(){var e=r.vip?2:1;t=null,App.log({args:["Error loading url %s",r.url],me:"Loader"}),r.priority+=++r.retries,r.retries<=r.maxRetries*e&&u(r),a(),App.callback.call(this,r.error,arguments)}});e.ajax(o),t=o.url},u=function(t,a){if(!t)return App.log({args:"No url given",me:"Loader"}),this;if(e.isPlainObject(t)||(t={url:t}),e.isNumeric(a)&&Math.abs(a)<n.length&&(t.priority=a),(!e.isNumeric(t.priority)||Math.abs(t.priority)>n.length)&&(t.priority=n.length),e.isNumeric(t.retries)||(t.retries=0),e.isNumeric(t.maxRetries)||(t.maxRetries=2),o(t.url))return App.log({args:["Url %s is already loading",t.url],me:"Loader"}),this;var u=i(t.url);if(~u){var c=n[u];c.priority!=t.priority&&(n.splice(u,1),n.splice(t.priority,1,t)),App.log({args:["Url %s was shifted from %s to %s",t.url,c.priority,t.priority],me:"Loader"})}else n.splice(t.priority,1,t),App.log({args:["Url %s has been insert at %s",t.url,t.priority],me:"Loader"});return r||(r=!0,s(),App.log({args:"Load worker has been started",me:"Loader"})),this};window.Loader=e.extend(window.Loader,{load:u,isLoading:o,inQueue:i,working:function(){return r}})}(jQuery),function(e){"use strict";var n="body",r=null,t=null,o=function(n,r){return e.isFunction(n)?n.apply(this,r):null},i=!1,a=function(e){return e===!0||e===!1?(i=e,this):"!"===e?(i=!i,this):i},s=[],u=function(n){if(i){if(!n)return this;n.args&&!e.isArray(n.args)&&(n.args=[n.args]);var r={args:n.args||arguments,fx:n.fx||"warn",me:n.me||"App"},t=e.type(r.args[0]);("string"===t||"number"===t||"boolean"==t)&&(r.args[0]="["+r.me+"] "+r.args[0]),console&&(e.isFunction(console[r.fx])||(r.fx="log"),console[r.fx].apply?console[r.fx].apply(console,r.args):e.each(r.args,function(e,n){console[r.fx](n)})),s.push(r)}return this},c={},l=function(){var n=function(){return!0},r=function(){return"abstract"},t=function(){return!!e(this.key()).length},i=function(e){o(e)};return{actions:e.noop,key:r,loaded:t,init:e.noop,enter:i,leave:i,canEnter:n,canLeave:n,routes:e.noop}},f=function(n){return e.extend(l(),n)},p=function(e,n,r){var t=f(n);return c[e]&&!r?u({args:["Overwriting page key %s is not allowed",e],fx:"error"}):c[e]=t,t},d=function(n,r){var t=-1,o=function(e){return t=e,!1};return n&&r&&e.each(r,function(r){var t,i=this,a=e.type(i);if("regexp"==a){if(i.test(n))return o(r)}else if("string"==a){if(n=decodeURIComponent(n),n=n.split("#")[0],i==n)return o(r);0!==i.indexOf("^")&&(i="^"+i),i.indexOf("^")!==i.length-1&&(i+="$"),i.indexOf("*")&&(i=i.replace(RegExp("\\*","g"),"[a-zA-Z0-9|â€”_/\\-=?&\\[\\]\\\\#]*"));try{t=RegExp(i)}catch(s){u({args:["Error while creating RegExp %s.\n%s",i,s],fx:"error"})}if(t&&t.test(n))return o(r)}else if(i===n)return o(r);return!0}),t},g=function(n){var r=null;return A(n)&&e.each(c,function(){var e=this.routes();return~d(n,e)?(r=this,!1):!0}),r},h={},w=function(){return{actions:e.noop,init:e.noop}},m=function(n){return e.extend(w(),n)},y=function(e,n,r){var t=m(n);return c[e]&&!r?u({args:["Overwriting module key %s is not allowed",e],fx:"error"}):h[e]=t,t},v=!1,x=document.location.href.substring((document.location.protocol+"//"+document.location.host).length),b=function(n,r,t,i){if(n){var a=n[r];if(!e.isFunction(a)&&~r.indexOf(".")){a=n;var s=r.split(".");e.each(s,function(){return a=a[this],e.isPlainObject(a)?undefined:!1})}o(a,[r,t,i])}},_=function(e,n,t){return r&&b(r.actions(),e,n,t),this},k=function(n,r,t){return e.each(h,function(){b(this.actions(),n,r,t)}),this},A=function(e){var n=!1;return e?n=!0:u({args:"No route set.",fx:"error"}),n},L=function(){return v&&u({args:"Mediator is busy waiting for a page load.",fx:"error"}),!v},R=function(e){var n=!0;return e||(n=!1),n},j=function(e){var n=!0;return e.canEnter()||(u("Cannot enter page %s.",e.key()),n=!1),n},O=function(){var e=!1;return r?r.canLeave()?e=!0:u("Cannot leave page %s.",r.key()):u({args:"No current page set.",fx:"error"}),e},C=function(e,n,r){return _(e,n,r),k(e,n,r),this},E=function(o){var i,a="",s=function(){var n=r;k("page.leaving",{page:n}),r.leave(function(){e(n.key()).hide(),t=n,n=null,k("page.leave",{page:t})}),r=null,k("page.entering",{page:i,route:a}),i.enter(function(){r=i,k("page.enter",{page:i,route:a}),v=!1})},c=function(r){var t=e(r).find(i.key());if(t.length){var o=e(n);o.append(t.css({opacity:0})),i.init(),t.hide(),k("pages.loaded",{elem:o}),s()}else u({args:['Could not find "%s" in xhr data.',i.key()],fx:"error"})};return"string"===e.type(o)?O()&&L()&&(i=g(o),a=o):i=o,R(i)?j(i)&&(i===r&&x===a?(u("next page is the current one"),k("pages.navigateToCurrent",{page:i,route:a})):(v=!0,i.loaded()?s():(k("pages.loading"),Loader.load({url:o,priority:0,vip:!0,success:c,error:function(){k("pages.loaderror")}})))):u({args:['Route "%s" was not found.',o],fx:"error"}),this},P=function(e){if(r&&L()){var n=g(e);R(n)&&j(n)&&(n!==r?E(e):E(t))}return this},Q=function(o){o&&e(o).length&&(n=o),e.each(h,function(){this.init()}),e.each(c,function(){this.loaded()&&(this.init(),~d(x,this.routes())&&(r=this,t=this,k("page.entering",{page:r,route:x}),r.enter(function(){k("page.enter",{page:r,route:x})})))}),r||u({args:['Route "%s" was not found on init.',x],fx:"error"})},F=function(e){return Q(e),this};window.App=e.extend(window.App,{root:function(){return n},callback:o,debug:a,run:F,log:u,logs:function(){return s},mediator:{notify:C,"goto":E,toggle:P},pages:{_matchRoute:d,getPageForRoute:g,page:function(e){return"/"==e[0]?g(e):c[e]},create:f,exports:p,notify:_},modules:{create:m,exports:y,notify:k}})}(jQuery);
//@ sourceMappingURL=dist/framework.map.js