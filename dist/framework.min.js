!function(a,b){"use strict";var c=function(c,d){try{if(a.isFunction(c))return c.apply(this,d||[])}catch(e){if(b.App&&a.isFunction(b.App.debug)){var f=App.debug()&&e.stack,g=(e.message||e)+(f||"");App.log({args:[g,e],fx:"error"})}else window.alert(e.message||e)}return null};b.App=a.extend(b.App,{callback:c})}(jQuery,window),function(a,b){"use strict";var c={},d=function(){return{init:a.noop}},e=function(b){return a.extend(d(),b)},f=function(a,b,d){return c[a]&&!d?App.log({args:["Overwriting component key %s is not allowed",a],fx:"error"}):c[a]=b,c[a]},g=function(a,b){c[a]||App.log({args:["Component %s is not found",a],fx:"error"});var d=c[a];return e(d.call(d,b))};b.App=a.extend(b.App,{components:{models:function(){return c},create:g,exports:f}})}(jQuery,window),function(a,b){"use strict";var c=!1,d=function(a){return a===!0||a===!1?c=a:"!"===a&&(c=!c),c},e=[],f=function(b){if(c){if(!b)return this;b.args&&!a.isArray(b.args)&&(b.args=[b.args]);var d={args:b.args||arguments,fx:b.fx||"warn",me:b.me||"App"},f=a.type(d.args[0]);("string"===f||"number"===f||"boolean"==f)&&(d.args[0]="["+d.me+"] "+d.args[0]),window.console&&(a.isFunction(console[d.fx])||(d.fx="log"),window.console[d.fx].apply?window.console[d.fx].apply(window.console,d.args):a.each(d.args,function(a,b){window.console[d.fx](b)})),e.push(d)}return this};b.App=a.extend(b.App,{debug:d,log:f,logs:function(){return e}})}(jQuery,window),function(a,b){"use strict";var c={},d=function(){return{actions:a.noop,init:a.noop}},e=function(b){return a.extend(d(),b)},f=function(a,b,d){return c[a]&&!d?App.log({args:["Overwriting module key %s is not allowed",a],fx:"error"}):c[a]=e(b),c[a]},g=function(b,d,e){return a.each(c,function(){App._callAction(this.actions(),b,d,e)}),this};b.App=a.extend(b.App,{modules:{models:function(){return c},exports:f,notify:g}})}(jQuery,window),function(a,b){"use strict";var c={},d={},e=function(b,c){var d=function(){return!0},e=function(a){App.callback(a)},f=function(b){var f=b,g=function(){return f.key},h=function(){return f.routes},i=function(){return!!a(this.key()).length};return a.extend({actions:a.noop,key:g,loaded:i,init:a.noop,enter:e,leave:e,canEnter:d,canLeave:d,routes:h,data:function(){return f}},c)};return f},f=function(a,b,e){var f,g=c[b];return g?!d[a.key]||e?(f=g(a),d[a.key]=f,!0):(App.log({args:["Overwriting page key %s is not allowed",a.key],fx:"error"}),void 0):(App.log({args:["Model %s not found",b],fx:"error"}),!1)},g=function(a,b,d){var f=e(a,b);return c[a]&&!d?(App.log({args:["Overwriting page model key %s is not allowed",a],fx:"error"}),!1):(c[a]=f,!0)},h=function(a){var b=!1;return a?b=!0:App.log({args:"No route set.",fx:"error"}),b},i=function(b,c){var d=-1,e=function(a){return d=a,!1};return b&&c&&a.each(c,function(c){var d,f=this,g=a.type(f);if("regexp"==g){if(f.test(b))return e(c)}else if("string"==g){if(b=decodeURIComponent(b),b=b.split("#")[0],f==b)return e(c);0!==f.indexOf("^")&&(f="^"+f),f.indexOf("^")!==f.length-1&&(f+="$"),f.indexOf("*")&&(f=f.replace(new RegExp("\\*","g"),".*"));try{d=new RegExp(f)}catch(h){App.log({args:["Error while creating RegExp %s.\n%s",f,h],fx:"error"})}if(d&&d.test(b))return e(c)}else if(f===b)return e(c);return!0}),d},j=function(b){var c=null;return h(b)&&a.each(d,function(){var a=this.routes();return~i(b,a)?(c=this,!1):void 0}),c},k=function(){App.log({args:"This method is deprecated in favor of App.mediator.notifyCurrentPage",fx:"error"})};b.App=a.extend(b.App,{pages:{_matchRoute:i,_validateRoute:h,instances:function(a){return a?d[a]:d},getPageForRoute:j,page:function(a){var b=d[a];return b||(b=j(a)),b},create:f,exports:g,notify:k}})}(jQuery,window),function(a,b){"use strict";var c="body",d=!1,e=document.location.href.substring(document.location.protocol.length+2+document.location.host.length),f=null,g=null,h="",i=function(b,c,d,e){if(b){var f=b[c];if(!a.isFunction(f)&&~c.indexOf(".")){f=b;var g=c.split(".");a.each(g,function(){return f=f[this],a.isPlainObject(f)?void 0:!1})}App.callback(f,[c,d,e])}},j=function(a,b,c){return f&&App._callAction(f.actions(),a,b,c),this},k=function(){return d&&App.log({args:"Mediator is busy waiting for a page load.",fx:"error"}),!d},l=function(a){var b=!0;return a||(b=!1),b},m=function(a){var b=!0;return a.canEnter()||(App.log("Cannot enter page %s.",a.key()),b=!1),b},n=function(){var a=!1;return f?f.canLeave()?a=!0:App.log("Cannot leave page %s.",f.key()):App.log({args:"No current page set.",fx:"error"}),a},o=function(a,b,c){return j(a,b,c),App.modules.notify(a,b,c),this},p=function(b){var e,i="",j=function(){var a=f,b=function(){g=a,h=document.location.href.substring(document.location.protocol.length+2+document.location.host.length),a=null,App.modules.notify("page.leave",{page:g})},c=function(){f=e,App.modules.notify("page.enter",{page:e,route:i}),d=!1},j={currentPage:f,nextPage:e,leaveCurrent:b,enterNext:c,route:i,isHandled:!1};f=null,App.modules.notify("pages.requestPageTransition",j),j.isHandled||(App.modules.notify("page.leaving",{page:a}),a.leave(b),App.modules.notify("page.entering",{page:e,route:i}),e.enter(c))},o=function(d){var f=a(d).find(e.key());if(f.length){var g=a(c);g.append(f.css({opacity:0})),e.init(),f.hide(),App.modules.notify("pages.loaded",{elem:g,data:d,url:b}),j()}else App.log({args:['Could not find "%s" in xhr data.',e.key()],fx:"error"})};return"string"===a.type(b)?n()&&k()&&(e=App.pages.getPageForRoute(b),i=b):e=b,l(e)?m(e)&&(e===f?(App.log("next page is the current one"),App.modules.notify("pages.navigateToCurrent",{page:e,route:i})):(d=!0,e.loaded()?j():(App.modules.notify("pages.loading"),Loader.load({url:b,priority:0,vip:!0,success:o,error:function(){App.modules.notify("pages.loaderror")}})))):App.log({args:['Route "%s" was not found.',b],fx:"error"}),this},q=function(a){if(f&&k()){var b=App.pages.getPageForRoute(a);l(b)&&m(b)&&(b!==f?p(a):h?p(h):App.modules.notify("page.toggleNoPreviousUrl",{currentPage:b}))}return this},r=function(b){b&&a(b).length&&(c=b),a.each(App.modules.models(),function(){this.init()}),a.each(App.pages.instances(),function(){this.loaded()&&(this.init({firstTime:!0}),~App.pages._matchRoute(e,this.routes())&&(f=this,g=this,App.modules.notify("page.entering",{page:f,route:e}),f.enter(function(){App.modules.notify("page.enter",{page:f,route:e})})))})},s=function(a){return r(a),App};b.App=a.extend(b.App,{_callAction:i,root:function(){return c},run:s,mediator:{notify:o,notifyCurrentPage:j,"goto":p,toggle:q}})}(jQuery,window),function(a,b){"use strict";var c=function(){var a=/\+/g,b=/([^&=]+)=?([^&]*)/g,c=function(b){return decodeURIComponent(b.replace(a," "))},d=function(a){var d,e,f={};for(""===a||a||(a=window.location.search),e=a.substring(1);d=b.exec(e);)f[c(d[1])]=c(d[2]);return f};return{parse:d}},d=function(){var a=function(a){return""===a||a||(a=navigator.userAgent),a};return{isIos:function(a){return window.BrowserDetector.isIphone(a)||window.BrowserDetector.isIpad(a)},isIphone:function(b){return b=a(b),!(!b.match(/iPhone/i)&&!b.match(/iPod/i))},isIpad:function(b){return b=a(b),!!b.match(/iPad/i)},isAndroid:function(b){return b=a(b),!!b.match(/Android/i)},isOtherMobile:function(b){return b=a(b),!(!b.match(/mobile/i)&&!b.match(/phone/i))},isMobile:function(a){return window.BrowserDetector.isIos(a)||window.BrowserDetector.isAndroid(a)||window.BrowserDetector.isOtherMobile(a)},isMsie:function(b){return b=a(b),b.match(/msie/gi)||b.match(/trident/gi)}}};b.QueryStringParser=c(),b.QS=b.QueryStringParser.parse(),b.BrowserDetector=d(),a.iphone=b.BrowserDetector.isIphone(),a.ipad=b.BrowserDetector.isIpad(),a.ios=b.BrowserDetector.isIos(),a.mobile=b.BrowserDetector.isMobile(),a.mobile&&a("html").addClass("mobile"),a.easing.def=a.mobile?"linear":"easeOutQuad";var e=["assert","clear","count","debug","dir","dirxml","error","group","group","group","info","log","profile","profile","time","time","time","trace","warn"];window.console||(window.console={}),a.each(e,function(b,c){window.console[c]=window.console[c]||a.noop});var f=function(a){return("0"+parseInt(a,10).toString(16)).slice(-2)};b.rgb2hex=function(a){var b=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return b?f(b[1])+f(b[2])+f(b[3]):a},b.pd=function(b,c){return b&&(a.isFunction(b.preventDefault)&&b.preventDefault(),c===!0&&a.isFunction(b.stopPropagation)&&b.stopPropagation()),!1},b.keys={"?":0,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps_lock:20,escape:27,space_bar:32,page_up:33,page_down:34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window_key:91,right_window_key:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,"numpad 4":100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,subtract:109,"decimal point":110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,";":186,"=":187,equal_sign:187,comma:188,",":188,dash:189,".":190,period:190,forward_slash:191,"/":191,grave_accent:192,open_bracket:219,back_slash:220,"\\":220,close_braket:221,single_quote:222},b.keyFromCode=function(b){var c="?";return b?(a.each(window.keys,function(a,d){return b===d?(c=a,!1):!0}),c):c},b.isChar=function(a){return a===window.keys.space_bar||a>window.keys["0"]&&a<=window.keys.z}}(jQuery,window),function(a,b){"use strict";var c=[],d=!1,e=null,f=function(a){return!!e&&e===a},g=function(b){var d=-1;return a.each(c,function(a,c){return c.url===b?(d=a,!1):!0}),d},h=function(){c.length?i():d=!1},i=function(){var b=c.shift(),d=a.extend({},b,{success:function(){e=null,h(),App.callback.call(this,b.success,arguments)},error:function(){var a=b.vip?2:1;e=null,App.log({args:["Error loading url %s",b.url],me:"Loader"}),b.priority+=++b.retries,b.retries<=b.maxRetries*a&&k(b),h(),App.callback.call(this,b.error,arguments)}});a.ajax(d),e=d.url},j=function(b,d){a.isPlainObject(b)||(b={url:b}),a.isNumeric(d)&&Math.abs(d)<c.length&&(b.priority=d),(!a.isNumeric(b.priority)||Math.abs(b.priority)>c.length)&&(b.priority=c.length),a.isNumeric(b.retries)||(b.retries=0),a.isNumeric(b.maxRetries)||(b.maxRetries=2)},k=function(a,b){if(!a)return App.log({args:"No url given",me:"Loader"}),this;if(j(a,b),f(a.url))return App.log({args:["Url %s is already loading",a.url],me:"Loader"}),this;var d=g(a.url);if(~d){var e=c[d];e.priority!=a.priority&&(c.splice(d,1),c.splice(a.priority,1,a)),App.log({args:["Url %s was shifted from %s to %s",a.url,e.priority,a.priority],me:"Loader"})}else c.splice(a.priority,1,a),App.log({args:["Url %s has been insert at %s",a.url,a.priority],me:"Loader"});return l(),this},l=function(){d||(d=!0,i(),App.log({args:"Load worker has been started",me:"Loader"}))};b.Loader=a.extend(b.Loader,{load:k,isLoading:f,inQueue:g,working:function(){return d}})}(jQuery,window);
/*
//@ sourceMappingURL=framework.map
*/